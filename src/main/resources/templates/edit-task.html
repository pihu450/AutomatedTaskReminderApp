<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit Task</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>

</head>
<body class="edit-task-page">
<div th:replace="~{fragments/layout :: navbar}"></div>

<div class="form-container">
<h2 align="center">Edit Task</h2>
<div th:if="${errorMessage}" style="color:red; margin-bottom: 10px;">
    <p th:text="${errorMessage}"></p>
</div>
    <div class="page-content">
<form th:action="@{|/api/tasks/edit/${task.id}|}" th:object="${task}" method="post">
    <label>Title : </label>
    <input type="text" th:field="*{title}" required><br><br>

    <label>Description : </label>
    <textarea th:field="*{description} " required> </textarea><br><br>

    <label>Due Date:</label>
    <input type="datetime-local" th:field="*{dueDate}" required><br><br>

    <label>Status:</label>
    <select th:field="*{status}" required>
        <option value="">-- Select --</option>
        <option th:each="s : ${T(com.tracker.app.enums.TaskStatus).values()}"
                th:value="${s}"
                th:text="${s}">
        </option>
    </select><br><br>

    <label>Priority:</label>
    <select th:field="*{priority}" required>
        <option value="">-- Select --</option>
        <option th:each="p : ${T(com.tracker.app.enums.TaskPriority).values()}"
                th:value="${p}"
                th:text="${p}">
        </option>
    </select><br><br>

    <button class="btn btn-sky" type="submit">Update Task</button>
    <a class="btn btn-sky" th:href="@{/api/tasks/tasks}">Cancel</a>
</form>
    </div>
</div>
<div th:replace="~{fragments/layout :: footer}"></div>
</body>
</html>